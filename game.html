<!doctype html>
<html>
<head>
    <title>Dragonfly</title>
    <meta charset='utf-8'/>
    <link rel="stylesheet" type="text/css" href="style.css">
    <style type="text/css">

    </style>
</head>
<body onload="i18n.work()">
<table align="center">
    <tr>
        <td>
            <div style="overflow:auto;" id="fieldWrapper">
                <canvas id="field">Refresh</canvas>
            </div>
        </td>
        <td>
            <div>
                <div style="overflow-y:scroll; max-width: 84px" id="availableCommands"></div>
            </div>
        </td>
    </tr>
    <tr>
        <td style="vertical-align: top">
            <div id="program">
                <table>
                    <tr>
                    </tr>
                </table>
            </div>
        </td>
        <td>
            <div id="controlPanel">
                <button id="play" style="background: rgba(0, 0, 0, 0); border-width: 0px">
                    <img src="img/controls/play.png" style="width: 64px"/>
                </button>
                <button id="stop" style="background: rgba(0, 0, 0, 0); border-width: 0px">
                    <img src="img/controls/stop.png" style="width: 64px"/>
                </button>
                <button id="reset" style="background: rgba(0, 0, 0, 0); border-width: 0px">
                    <img src="img/controls/bin.png" style="width: 64px"/>
                </button>
                <button id="backspace" class="i18n">
                    Remove<br>selected<br>command
                </button>
            </div>
        </td>
    </tr>
</table>
<button class="gameButton" style="position: absolute; top: 0px; left: 0px" onclick="window.open('intro.html', '_self')">
    <p class="i18n">Main menu</p>
</button>

<div class="BLIndicator">
    <p id="levelIndicator"></p>
</div>

<div class="BRIndicator">
    <p id="moneyIndicator"></p>
</div>

<script src="lib/lib.js"></script>
<script src="lib/cell.js"></script>
<script src="lib/actor.js"></script>
<script src="lib/program.js"></script>
<script src="lib/field.js"></script>
<script src="lib/dnd.js"></script>
<script src="lib/controls.js"></script>
<script src="lib/level.js"></script>
<script src="lib/coin.js"></script>
<script src="lib/message.js"></script>
<script src="lib/i18n.js"></script>
<script src="lib/i18n/ru/game.js"></script>
<script src="lib/level_manager.js"></script>
<script>
    i18n.setLanguage("ru");

    var l = levelManager.getNextLevel();
    if (!l) {
        message.alert("<h1>" + i18n.translate("You have passed all levels!") + "</h1>", function () {
            window.open("intro.html", "_self");
        });
    } else {
        loadJS("lib/levels/level_" + l + ".js");
        loadJS("start.js");
    }
</script>
</body>
</html>